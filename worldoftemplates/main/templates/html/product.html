{% extends 'html/main.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/product.css' %}">

<div class="total">
  <div class="first-section">Greenery-Palette Pitch Deck</div>
  <div class="second-section">
    <div class="second-overview">
      <!-- Main preview image: uses first slide or product file URL as fallback -->
      {% if slide_urls and slide_urls|length >= 1 %}
        <img class="presentation-photo" src="{{ MEDIA_URL }}{{ slide_urls.0 }}" alt="First Slide Preview" style="max-width: 100%;">
      {% else %}
        <img class="presentation-photo" src="{{ product.get_file_url }}" alt="Presentation Photo" style="max-width: 100%;">
      {% endif %}
      <div class="buttons-presentation">
        <button class="like-button">Save</button>
        <button class="like-button">Share</button>
      </div>
    </div>
    <div class="second-notes">
      <a href="{% url 'download' product.product_name %}" target="_blank">
        <button class="download-button">Download this template</button>
      </a>
      <p class="name-presentation">{{ product.product_name }}</p>
      <p class="info-presentation">
        Wrap your business proposals or project presentations in the tranquil hues of nature with this pitch deck template. This creative template, designed for use in Google Slides and PowerPoint, allows your data and information to flourish amidst a delightful green backdrop. The template comes with different types of innovative infographics and charts that cater to your presentation needs. The greenery-palette purposefully mirrors eco-friendly practices underlining your commitment towards environmental sustainability. Make your ideas stand out with this visual stunner. Connect with your audience in a whole new way!
      </p>
    </div>
  </div>
</div>

<!-- Slide thumbnails section -->
<div class="slide-thumbnails">
  {% if slide_urls %}
    {% for slide_url in slide_urls %}
      <img src="{{ MEDIA_URL }}{{ slide_url }}" alt="Slide Thumbnail" class="slide-thumbnail" style="max-width: 150px; margin: 5px;">
    {% empty %}
      <p>No slides available. Debug: slide_urls = {{ slide_urls }}</p>
    {% endfor %}
  {% else %}
    <p>No slides available. Debug: slide_urls = {{ slide_urls }}</p>
  {% endif %}
</div>

<!-- Related presentations section -->
<p class="relatedparagraph">Related presentations</p>
<div class="related">
  {% for i in "123456" %}
    <div class="related-presentations">
      <img class="related-photo" src="{% static 'Photos/related_'|add:i|add:'.webp' %}" alt="Related {{ i }}">
      <button class="relatedp-format">16:9</button>
    </div>
  {% endfor %}
</div>
{% endblock %}